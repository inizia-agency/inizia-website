<div *ngIf="project">
    <div class="px-4 pt-100 pb-75 dotted-bg">
        <!-- Tabs header -->
        <div class="project-tabs pb-2">
            <ul class="nav nav-tabs">
                <li class="nav-item" *ngFor="let tab of project.tabs; index as i; trackBy: trackByIndex">
                    <a
                            class="nav-link"
                            [class.active]="selectedTab === i"
                            (click)="selectTab(i)"
                            role="button"
                    >{{ tab.tabTitle }}</a
                    >
                </li>
            </ul>
        </div>

        <!-- Tabs content -->
        <div class="tab-content">
            <div
                    class="tab-pane"
                    *ngFor="let tab of project.tabs; index as i; trackBy: trackByIndex"
                    [class.active]="selectedTab === i"
                    [hidden]="selectedTab !== i"
            >
                <div class="project-details-area">
                    <div class="row">
                        <div class="col-lg-8 col-md-12 order-1 order-lg-1">
                            <div class="project-details-desc">
                                <h2 class="mb-2">{{ tab.tabTitle }}</h2>
                                <p>{{ tab.description }}</p>

                                <p *ngFor="let text of tab.additionalText">{{ text }}</p>

                                <div class="icon-card mt-25 mb-25" *ngFor="let section of tab.iconSections">
                                    <i [class]="section.icon"></i>
                                    <h4>{{ section.title }}</h4>
                                    <p>{{ section.text }}</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-lg-4 col-md-12 order-1 order-lg-2">
                            <div class="project-details-sidebar">
                                <!-- Unified top image (desktop & mobile) -->
                                <div
                                        class="project-shot"
                                        [ngClass]="tab.device === 'mobile' ? 'shot--mobile' : 'shot--desktop'"
                                >
                                    <div class="shot-box">
                                        <img [src]="tab.image" [alt]="tab.tabTitle" loading="lazy" />
                                    </div>
                                </div>
                                <div class="project-info">
                                    <h4>Project Information</h4>
                                    <ul class="list-unstyled mb-0">
                                        <li><span>Service Package: </span> {{ tab.details.category }}</li>
                                        <li><span>Status: </span> {{ tab.details.status }}</li>
                                        <li *ngIf="tab.details.website">
                                            <span>Website: </span>
                                            <a [href]="tab.details.website" target="_blank" rel="noopener" class="text-decoration-underline">Visit</a>
                                        </li>
                                    </ul>
                                </div>

                                <div class="project-contact-info order-3 order-lg-2">
                                    <h4>Let's Make Something Amazing Together!</h4>
                                    <ul class="list-unstyled mb-0">
                                        <li>
                                            <a [href]="'tel:' + tab.details.contact.phone">
                                                <i class="bx bx-phone-call"></i> {{ tab.details.contact.phone }}
                                            </a>
                                        </li>
                                        <li>
                                            <a [href]="'mailto:' + tab.details.contact.email">
                                                <i class="bx bx-envelope"></i> {{ tab.details.contact.email }}
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
